<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NutriMind AI · Assessment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        sans-serif;
      background: radial-gradient(circle at top left, #f9f7f2 0, #f3f2ed 38%, #eceae4 100%);
      color: #111111;
      line-height: 1.5;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    button {
      font-family: inherit;
    }

    .max-width {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* NAV – matches index vibe */
    .nav {
      padding: 18px 0 6px;
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(16px);
      background: linear-gradient(to bottom, rgba(244,243,239,0.94), rgba(244,243,239,0.85), rgba(244,243,239,0));
    }

    .nav-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-logo-mark {
      width: 26px;
      height: 26px;
      border-radius: 9px;
      background: linear-gradient(135deg, #111111, #222222);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #f9f7f2;
      font-size: 0.78rem;
      font-weight: 600;
    }

    .nav-logo-text {
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 0.76rem;
      font-weight: 500;
      opacity: 0.85;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 18px;
      font-size: 0.88rem;
      opacity: 0.8;
    }

    .nav-links a {
      position: relative;
      padding-bottom: 2px;
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      height: 1px;
      width: 0;
      background: #111111;
      transition: width 0.2s ease-out;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-cta {
      padding: 7px 16px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.12);
      font-size: 0.85rem;
      background: rgba(255,255,255,0.9);
      cursor: pointer;
    }

    .nav-cta:hover {
      background: #111111;
      color: #f9f7f2;
      border-color: #111111;
    }

    /* LAYOUT */
    .assessment-shell {
      padding: 18px 0 40px;
    }

    .assessment-grid {
      display: grid;
      grid-template-columns: minmax(0, 0.9fr) minmax(0, 1.3fr);
      gap: 26px;
      align-items: flex-start;
    }

    /* LEFT COLUMN – progress */
    .progress-panel {
      background: rgba(255,255,255,0.96);
      border-radius: 22px;
      padding: 18px 16px 18px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.08);
      border: 1px solid rgba(0,0,0,0.04);
      position: sticky;
      top: 82px;
    }

    .progress-kicker {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      opacity: 0.7;
      margin-bottom: 4px;
    }

    .progress-title {
      font-size: 1.25rem;
      letter-spacing: -0.01em;
      margin-bottom: 6px;
    }

    .progress-sub {
      font-size: 0.82rem;
      opacity: 0.8;
      margin-bottom: 14px;
    }

    .selected-path-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #f5f3ee;
      font-size: 0.76rem;
      margin-bottom: 12px;
    }

    .selected-path-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #24a05a;
    }

    .step-list {
      list-style: none;
      margin-top: 4px;
      margin-bottom: 14px;
    }

    .step-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      padding: 6px 0;
      opacity: 0.65;
    }

    .step-badge {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
    }

    .step-item.active {
      opacity: 1;
      font-weight: 500;
    }

    .step-item.active .step-badge {
      border-color: #111111;
      background: #111111;
      color: #f9f7f2;
    }

    .step-item.completed {
      opacity: 0.9;
    }

    .step-item.completed .step-badge {
      border-color: #24a05a;
      background: #24a05a;
      color: #f9f7f2;
    }

    .progress-note {
      font-size: 0.78rem;
      opacity: 0.75;
      border-top: 1px solid rgba(0,0,0,0.06);
      padding-top: 10px;
      margin-top: 6px;
    }

    /* RIGHT COLUMN – question card */
    .step-card {
      background: rgba(255,255,255,0.98);
      border-radius: 24px;
      padding: 20px 18px 18px;
      box-shadow: 0 22px 60px rgba(0,0,0,0.08);
      border: 1px solid rgba(0,0,0,0.04);
      min-height: 260px;
      display: none;
    }

    .step-card.active {
      display: block;
      animation: fadeInUp 0.25s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(6px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .step-label {
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      opacity: 0.7;
      margin-bottom: 4px;
    }

    .step-title-main {
      font-size: 1.3rem;
      letter-spacing: -0.01em;
      margin-bottom: 4px;
    }

    .step-subtitle {
      font-size: 0.84rem;
      opacity: 0.8;
      margin-bottom: 18px;
      max-width: 420px;
    }

    .option-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
      margin-bottom: 18px;
    }

    .pill-option {
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.14);
      padding: 10px 14px;
      font-size: 0.86rem;
      text-align: left;
      background: rgba(255,255,255,0.9);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      transition: border-color 0.16s ease-out, background 0.16s ease-out, transform 0.12s ease-out;
    }

    .pill-option span {
      font-size: 0.8rem;
      opacity: 0.72;
    }

    .pill-option:hover {
      background: #f5f3ee;
      transform: translateY(-1px);
    }

    .pill-option.selected {
      border-color: #111111;
      background: #111111;
      color: #f9f7f2;
    }

    .pill-option.selected span {
      opacity: 0.95;
    }

    .input-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      margin-bottom: 10px;
    }

    .input-field {
      background: #f5f3ee;
      border-radius: 999px;
      padding: 9px 12px;
      border: 1px solid rgba(0,0,0,0.08);
      font-size: 0.86rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .input-field label {
      font-size: 0.78rem;
      opacity: 0.7;
      min-width: 48px;
    }

    .input-field input {
      border: none;
      background: transparent;
      outline: none;
      width: 100%;
      font-size: 0.88rem;
    }

    .input-field input::-webkit-outer-spin-button,
    .input-field input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .input-caption {
      font-size: 0.75rem;
      opacity: 0.7;
      margin-bottom: 16px;
    }

    .step-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      gap: 12px;
      flex-wrap: wrap;
    }

    .footer-left {
      font-size: 0.78rem;
      opacity: 0.7;
    }

    .step-buttons {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-secondary {
      padding: 9px 16px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.16);
      background: transparent;
      font-size: 0.84rem;
      cursor: pointer;
    }

    .btn-secondary:hover {
      background: rgba(0,0,0,0.03);
    }

    .btn-next {
      padding: 9px 18px;
      border-radius: 999px;
      border: none;
      font-size: 0.86rem;
      background: #111111;
      color: #f9f7f2;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-next span {
      font-size: 1rem;
      line-height: 1;
    }

    .summary-list {
      font-size: 0.85rem;
      opacity: 0.85;
      list-style: none;
      margin-bottom: 14px;
    }

    .summary-list li {
      margin-bottom: 4px;
    }

    @media (max-width: 860px) {
      .assessment-grid {
        grid-template-columns: 1fr;
      }

      .progress-panel {
        position: static;
      }

      .nav-links {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <header class="nav">
    <div class="max-width nav-inner">
      <div class="nav-left">
        <div class="nav-logo-mark">N</div>
        <div class="nav-logo-text">NutriMind AI</div>
      </div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <button class="nav-cta" type="button">Sign in</button>
      </div>
    </div>
  </header>

  <main class="assessment-shell">
    <div class="max-width assessment-grid">
      <!-- LEFT: PROGRESS PANEL -->
      <aside class="progress-panel">
        <div class="progress-kicker">Personal setup</div>
        <div class="progress-title">Let’s learn your life first.</div>
        <div class="progress-sub">
          These few questions help your AI coach design a plan that actually
          fits your schedule, energy, and goals.
        </div>

        <div id="selected-path-pill" class="selected-path-pill" style="display:none;">
          <div class="selected-path-dot"></div>
          <span id="selected-path-text"></span>
        </div>

        <ul class="step-list">
          <li class="step-item active" data-step-label="1">
            <div class="step-badge">1</div>
            <span>Who you are</span>
          </li>
          <li class="step-item" data-step-label="2">
            <div class="step-badge">2</div>
            <span>Body metrics</span>
          </li>
          <li class="step-item" data-step-label="3">
            <div class="step-badge">3</div>
            <span>Lifestyle & energy</span>
          </li>
          <li class="step-item" data-step-label="4">
            <div class="step-badge">4</div>
            <span>Main goals</span>
          </li>
          <li class="step-item" data-step-label="5">
            <div class="step-badge">5</div>
            <span>Food preferences</span>
          </li>
          <li class="step-item" data-step-label="6">
            <div class="step-badge">6</div>
            <span>Review & confirm</span>
          </li>
        </ul>

        <div class="progress-note">
          You can change your answers later. This is just the starting point
          your AI coach will build from.
        </div>
      </aside>

      <!-- RIGHT: STEP CARDS -->
      <section>
        <!-- STEP 1 -->
        <div class="step-card active" data-step="1">
          <div class="step-label">Step 01</div>
          <h2 class="step-title-main">Who are you here as?</h2>
          <p class="step-subtitle">
            Pick the option that feels closest to your current season of life.
            We’ll fine-tune details in the next steps.
          </p>

          <div class="option-grid" id="persona-options">
            <button class="pill-option" type="button" data-value="teen_athlete">
              Teen / student athlete
              <span>Track, soccer, school sports</span>
            </button>
            <button class="pill-option" type="button" data-value="busy_parent">
              Busy parent
              <span>Kids, work, and limited time</span>
            </button>
            <button class="pill-option" type="button" data-value="working_pro">
              Working professional
              <span>Office, commute, meetings</span>
            </button>
            <button class="pill-option" type="button" data-value="college_student">
              College / uni student
              <span>Classes, studying, tight budget</span>
            </button>
            <button class="pill-option" type="button" data-value="other">
              Something else
              <span>We’ll customize everything anyway</span>
            </button>
          </div>

          <div class="step-footer">
            <div class="footer-left">About 2–3 minutes to complete.</div>
            <div class="step-buttons">
              <button class="btn-secondary" type="button" disabled>Back</button>
              <button class="btn-next" type="button" data-next="2">
                Next <span>↗</span>
              </button>
            </div>
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="step-card" data-step="2">
          <div class="step-label">Step 02</div>
          <h2 class="step-title-main">Let’s get your basics.</h2>
          <p class="step-subtitle">
            This stays private. It simply helps your coach estimate calories,
            macros, and training volume.
          </p>

          <div class="input-grid">
            <div class="input-field">
              <label for="age-input">Age</label>
              <input id="age-input" type="number" placeholder="16" />
            </div>
            <div class="input-field">
              <label for="height-input">Height</label>
              <input id="height-input" type="number" placeholder="170 (cm)" />
            </div>
            <div class="input-field">
              <label for="weight-input">Weight</label>
              <input id="weight-input" type="number" placeholder="65 (kg)" />
            </div>
          </div>

          <p class="input-caption">
            You can use rough estimates here — we’ll never show these numbers on the front of the app.
          </p>

          <div class="option-grid" id="sex-options">
            <button class="pill-option" type="button" data-value="male">
              Male <span>Most workouts & targets will match this</span>
            </button>
            <button class="pill-option" type="button" data-value="female">
              Female <span>Hormones & recovery can impact planning</span>
            </button>
            <button class="pill-option" type="button" data-value="other">
              Another / prefer not to say
              <span>We’ll keep things more neutral</span>
            </button>
          </div>

          <div class="step-footer">
            <div class="footer-left">Use what you know now. You can update later.</div>
            <div class="step-buttons">
              <button class="btn-secondary" type="button" data-back="1">Back</button>
              <button class="btn-next" type="button" data-next="3">
                Next <span>↗</span>
              </button>
            </div>
          </div>
        </div>

        <!-- STEP 3 -->
        <div class="step-card" data-step="3">
          <div class="step-label">Step 03</div>
          <h2 class="step-title-main">What does a normal week feel like?</h2>
          <p class="step-subtitle">
            We’re not judging your routine — just trying to match the plan to
            your actual energy and time.
          </p>

          <div class="option-grid" id="activity-options">
            <button class="pill-option" type="button" data-value="sedentary">
              Mostly sitting
              <span>Desk, classes, or a lot of sitting</span>
            </button>
            <button class="pill-option" type="button" data-value="light">
              Lightly active
              <span>Some walking, light movement</span>
            </button>
            <button class="pill-option" type="button" data-value="active">
              Active
              <span>Workouts or sports 3–4x / week</span>
            </button>
            <button class="pill-option" type="button" data-value="very_active">
              Very active
              <span>Hard training or physical work most days</span>
            </button>
          </div>

          <div class="option-grid" id="sleep-options">
            <button class="pill-option" type="button" data-value="under6">
              Under 6 hours
              <span>Frequently tired / underslept</span>
            </button>
            <button class="pill-option" type="button" data-value="6to8">
              Around 6–8 hours
              <span>Decent most nights</span>
            </button>
            <button class="pill-option" type="button" data-value="over8">
              8+ hours
              <span>Pretty well-rested usually</span>
            </button>
          </div>

          <div class="step-footer">
            <div class="footer-left">Your coach will adjust intensity to match this.</div>
            <div class="step-buttons">
              <button class="btn-secondary" type="button" data-back="2">Back</button>
              <button class="btn-next" type="button" data-next="4">
                Next <span>↗</span>
              </button>
            </div>
          </div>
        </div>

        <!-- STEP 4 -->
        <div class="step-card" data-step="4">
          <div class="step-label">Step 04</div>
          <h2 class="step-title-main">What feels like the main goal?</h2>
          <p class="step-subtitle">
            You can work on more than one thing, but we’ll prioritize how the
            plan is shaped around this.
          </p>

          <div class="option-grid" id="goal-options">
            <button class="pill-option" type="button" data-value="weight_loss">
              Lose body fat
              <span>Look leaner, clothes fit better</span>
            </button>
            <button class="pill-option" type="button" data-value="muscle_gain">
              Build muscle
              <span>Look stronger, fill out shirts / legs</span>
            </button>
            <button class="pill-option" type="button" data-value="recomp">
              Get toned / recomposition
              <span>Mix of fat loss + muscle gain</span>
            </button>
            <button class="pill-option" type="button" data-value="performance">
              Performance for sport
              <span>Run faster, jump higher, last longer</span>
            </button>
            <button class="pill-option" type="button" data-value="health">
              General health & consistency
              <span>Feel better, more energy, less chaos</span>
            </button>
          </div>

          <div class="step-footer">
            <div class="footer-left">You’ll be able to tweak this inside the app.</div>
            <div class="step-buttons">
              <button class="btn-secondary" type="button" data-back="3">Back</button>
              <button class="btn-next" type="button" data-next="5">
                Next <span>↗</span>
              </button>
            </div>
          </div>
        </div>

        <!-- STEP 5 -->
        <div class="step-card" data-step="5">
          <div class="step-label">Step 05</div>
          <h2 class="step-title-main">Food & budget preferences.</h2>
          <p class="step-subtitle">
            This is where NutriMind starts to feel like it was built just for
            you, not for “perfect” people on Instagram.
          </p>

          <div class="option-grid" id="food-style-options">
            <button class="pill-option" type="button" data-value="simple">
              Simple meals
              <span>Basic foods, nothing complicated</span>
            </button>
            <button class="pill-option" type="button" data-value="cultural">
              Cultural / family foods
              <span>Keep familiar flavors in the plan</span>
            </button>
            <button class="pill-option" type="button" data-value="high_protein">
              High-protein focus
              <span>Prioritize protein in most meals</span>
            </button>
            <button class="pill-option" type="button" data-value="plant">
              Mostly plant-based
              <span>Lots of plants, maybe some animal foods</span>
            </button>
          </div>

          <div class="option-grid" id="budget-options">
            <button class="pill-option" type="button" data-value="tight">
              Tight budget
              <span>Aldi / Walmart vibes</span>
            </button>
            <button class="pill-option" type="button" data-value="moderate">
              Moderate budget
              <span>Groceries + some eating out</span>
            </button>
            <button class="pill-option" type="button" data-value="flexible">
              Flexible budget
              <span>Happy to invest more in food</span>
            </button>
          </div>

          <div class="step-footer">
            <div class="footer-left">We’ll keep things realistic to your situation.</div>
            <div class="step-buttons">
              <button class="btn-secondary" type="button" data-back="4">Back</button>
              <button class="btn-next" type="button" id="next-5">
                Next <span>↗</span>
              </button>
            </div>
          </div>
        </div>

        <!-- STEP 6 -->
        <div class="step-card" data-step="6">
          <div class="step-label">Step 06</div>
          <h2 class="step-title-main">Looks good so far?</h2>
          <p class="step-subtitle">
            Here’s a quick snapshot of what your AI coach has learned. When you
            continue, we’ll generate your first draft plan.
          </p>

          <ul class="summary-list" id="summary-list">
            <!-- Filled by JS -->
          </ul>

          <div class="step-footer">
            <div class="footer-left">
              This is not final — the plan will keep learning from you each week.
            </div>
            <div class="step-buttons">
              <button class="btn-secondary" type="button" data-back="5">Back</button>
              <button class="btn-next" type="button" id="finish-btn">
                Generate my plan <span>★</span>
              </button>
            </div>
          </div>
        </div>

      </section>
    </div>
  </main>

  <script>
    const profile = {
      persona: null,
      age: null,
      height: null,
      weight: null,
      sex: null,
      activity: null,
      sleep: null,
      goal: null,
      foodStyle: null,
      budget: null
    };

    let currentStep = 1;

    function showStep(step) {
      currentStep = step;

      document.querySelectorAll(".step-card").forEach(card => {
        const s = Number(card.getAttribute("data-step"));
        card.classList.toggle("active", s === step);
      });

      document.querySelectorAll(".step-item").forEach(item => {
        const label = Number(item.getAttribute("data-step-label"));
        item.classList.remove("active", "completed");
        if (label < step) item.classList.add("completed");
        else if (label === step) item.classList.add("active");
      });
    }

    function setupPillGroup(containerId, key, autoAdvanceToStep = null) {
      const container = document.getElementById(containerId);
      if (!container) return;
      const options = container.querySelectorAll(".pill-option");

      options.forEach(btn => {
        btn.addEventListener("click", () => {
          options.forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
          profile[key] = btn.getAttribute("data-value");
          if (autoAdvanceToStep !== null) {
            showStep(autoAdvanceToStep);
          }
        });
      });
    }

    // STEP 1 – persona (auto jump to step 2 when clicked)
    setupPillGroup("persona-options", "persona", 2);

    // STEP 2 – basic info
    setupPillGroup("sex-options", "sex", null);
    const ageInput = document.getElementById("age-input");
    const heightInput = document.getElementById("height-input");
    const weightInput = document.getElementById("weight-input");

    function updateBasics() {
      profile.age = ageInput.value ? Number(ageInput.value) : null;
      profile.height = heightInput.value ? Number(heightInput.value) : null;
      profile.weight = weightInput.value ? Number(weightInput.value) : null;
    }
    [ageInput, heightInput, weightInput].forEach(input => {
      input.addEventListener("input", updateBasics);
    });

    // STEP 3 – lifestyle
    setupPillGroup("activity-options", "activity", null);
    setupPillGroup("sleep-options", "sleep", null);

    // STEP 4 – goal
    setupPillGroup("goal-options", "goal", null);

    // STEP 5 – food + budget
    setupPillGroup("food-style-options", "foodStyle", null);
    setupPillGroup("budget-options", "budget", null);

    // Generic NEXT buttons
    document.querySelectorAll("[data-next]").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = Number(btn.getAttribute("data-next"));
        showStep(target);
      });
    });

    // Generic BACK buttons
    document.querySelectorAll("[data-back]").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = Number(btn.getAttribute("data-back"));
        showStep(target);
      });
    });

    // STEP 5 → build summary and go to 6
    document.getElementById("next-5").addEventListener("click", () => {
      const summary = document.getElementById("summary-list");

      const personaMap = {
        teen_athlete: "Teen / student athlete",
        busy_parent: "Busy parent",
        working_pro: "Working professional",
        college_student: "College / uni student",
        other: "Custom journey"
      };

      const sexMap = {
        male: "Male",
        female: "Female",
        other: "Prefer not to say / other"
      };

      const activityMap = {
        sedentary: "Mostly sitting",
        light: "Lightly active",
        active: "Active",
        very_active: "Very active"
      };

      const sleepMap = {
        under6: "Under 6 hours",
        6to8: "Around 6–8 hours",
        over8: "8+ hours"
      };

      const goalMap = {
        weight_loss: "Lose body fat",
        muscle_gain: "Build muscle",
        recomp: "Get toned / recomposition",
        performance: "Performance for sport",
        health: "General health & consistency"
      };

      const foodMap = {
        simple: "Simple meals",
        cultural: "Cultural / family foods",
        high_protein: "High-protein focus",
        plant: "Mostly plant-based"
      };

      const budgetMap = {
        tight: "Tight budget",
        moderate: "Moderate budget",
        flexible: "Flexible budget"
      };

      summary.innerHTML = `
        <li><strong>Persona:</strong> ${personaMap[profile.persona] || "Not set"}</li>
        <li><strong>Basics:</strong> ${profile.age || "?"} yrs · ${profile.height || "?"} cm · ${profile.weight || "?"} kg</li>
        <li><strong>Sex:</strong> ${sexMap[profile.sex] || "Not set"}</li>
        <li><strong>Activity level:</strong> ${activityMap[profile.activity] || "Not set"}</li>
        <li><strong>Sleep:</strong> ${sleepMap[profile.sleep] || "Not set"}</li>
        <li><strong>Main goal:</strong> ${goalMap[profile.goal] || "Not set"}</li>
        <li><strong>Food style:</strong> ${foodMap[profile.foodStyle] || "Not set"}</li>
        <li><strong>Budget:</strong> ${budgetMap[profile.budget] || "Not set"}</li>
      `;

      showStep(6);
    });

    // FINISH → save + go to plan
    document.getElementById("finish-btn").addEventListener("click", () => {
      try {
        localStorage.setItem("nutrimindProfile", JSON.stringify(profile));
      } catch (e) {
        console.warn("Could not save profile to localStorage", e);
      }
      window.location.href = "plan.html";
    });

    // Optional: show selected path if we ever set it from index
    (function loadSelectedPath() {
      try {
        const stored = localStorage.getItem("selectedPath");
        if (!stored) return;
        const map = {
          "weight-loss": "Path: Lose weight",
          "muscle-gain": "Path: Build muscle",
          "athlete-mode": "Path: Athlete mode",
          "busy-parent": "Path: Busy parent",
        };
        const text = map[stored] || "Custom journey";
        const pill = document.getElementById("selected-path-pill");
        const label = document.getElementById("selected-path-text");
        label.textContent = text;
        pill.style.display = "inline-flex";
      } catch(e) {}
    })();
  </script>
</body>
</html>